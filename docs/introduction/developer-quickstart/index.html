<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-introduction/developer-quickstart">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Developer Quickstart | Obscuro Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.obscu.ro/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://docs.obscu.ro/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://docs.obscu.ro/docs/introduction/developer-quickstart"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Developer Quickstart | Obscuro Documentation"><meta data-rh="true" name="description" content="Obscuro performs bytecode execution in the EVM identically to Ethereum, allowing developers to leverage their existing codebase and tools."><meta data-rh="true" property="og:description" content="Obscuro performs bytecode execution in the EVM identically to Ethereum, allowing developers to leverage their existing codebase and tools."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.obscu.ro/docs/introduction/developer-quickstart"><link data-rh="true" rel="alternate" href="https://docs.obscu.ro/docs/introduction/developer-quickstart" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.obscu.ro/docs/introduction/developer-quickstart" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.9fac3aba.css">
<link rel="preload" href="/assets/js/runtime~main.823f81b0.js" as="script">
<link rel="preload" href="/assets/js/main.9d2296d1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Obscuro Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Obscuro Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Obscuro</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/category/introduction">Documentation</a><a href="https://medium.com/obscuro-labs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/obscuronet/obscuro-documentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/introduction">Introduction</a><button aria-label="Toggle the collapsible sidebar category &#x27;Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/overview">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/features">Features</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/introduction/technology">Technology</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/introduction/developer-quickstart">Developer Quickstart</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/getting-started">Getting started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/architecture">Architecture</a><button aria-label="Toggle the collapsible sidebar category &#x27;Architecture&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/standards--primitives">Standards &amp; Primitives</a><button aria-label="Toggle the collapsible sidebar category &#x27;Standards &amp; Primitives&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/tools--infrastructure">Tools &amp; Infrastructure</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tools &amp; Infrastructure&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/tutorials--examples">Tutorials &amp; Examples</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials &amp; Examples&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/api-references">API References</a><button aria-label="Toggle the collapsible sidebar category &#x27;API References&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/troubleshooting">Troubleshooting</a><button aria-label="Toggle the collapsible sidebar category &#x27;Troubleshooting&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/introduction"><span itemprop="name">Introduction</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Developer Quickstart</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Developer Quickstart</h1><p>Obscuro performs bytecode execution in the EVM identically to Ethereum, allowing developers to leverage their existing codebase and tools.</p><p>The main difference and advantage of Obscuro is that on Obscuro, during execution, private variables and the internal state of the contract are hidden from everyone, including node operators and the sequencer.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>In Obscuro, the internal node database is encrypted, and the execution itself is also encrypted inside the TEE.</p></div></div><p>The calls to <a href="https://docs.alchemy.com/reference/eth-getstorageat" target="_blank" rel="noopener noreferrer">getStorageAt</a> are disabled, so all data access will be performed through view functions which are under the control of the smart contract developer. Public variables are accessible to everyone because Solidity automatically generates a getter function for them.</p><p>We&#x27;ll illustrate how this works by creating a simple data storage example. In this dApp, users can store a number and retrieve it later.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="pre-requisite">Pre-requisite<a href="#pre-requisite" class="hash-link" aria-label="Direct link to Pre-requisite" title="Direct link to Pre-requisite">​</a></h2><p>Please set up your wallet by following the instructions <a href="/docs/getting-started/for-developers/setup-dev-env#1-wallet-setup--configuration">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-1-declaring-a-public-variable">Step 1: Declaring a Public Variable<a href="#step-1-declaring-a-public-variable" class="hash-link" aria-label="Direct link to Step 1: Declaring a Public Variable" title="Direct link to Step 1: Declaring a Public Variable">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="code">Code:<a href="#code" class="hash-link" aria-label="Direct link to Code:" title="Direct link to Code:">​</a></h3><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// SPDX-License-Identifier: MIT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pragma solidity ^0.8.0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">contract StorageExample {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping(address =&gt; uint256) public storedValues;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function storeValue(uint256 value) public {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        storedValues[tx.origin] = value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="explanation">Explanation:<a href="#explanation" class="hash-link" aria-label="Direct link to Explanation:" title="Direct link to Explanation:">​</a></h3><p>In this step, we&#x27;ve declared a public variable <code>storedValues</code>. Solidity automatically generates a public getter view function for it, so on both Ethereum and Obscuro, you can call this view function without any restrictions. We also created a function that allows users to store a value against their address.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-2-transitioning-to-a-private-variable-with-a-getter-function">Step 2: Transitioning to a Private Variable with a Getter Function<a href="#step-2-transitioning-to-a-private-variable-with-a-getter-function" class="hash-link" aria-label="Direct link to Step 2: Transitioning to a Private Variable with a Getter Function" title="Direct link to Step 2: Transitioning to a Private Variable with a Getter Function">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="code-1">Code:<a href="#code-1" class="hash-link" aria-label="Direct link to Code:" title="Direct link to Code:">​</a></h3><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">contract StorageExample {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping(address =&gt; uint256) private _storedValues;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function storeValue(uint256 value) public {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _storedValues[tx.origin] = value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getValue(address account) public view returns (uint256) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _storedValues[account];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-1">Explanation:<a href="#explanation-1" class="hash-link" aria-label="Direct link to Explanation:" title="Direct link to Explanation:">​</a></h3><p>We&#x27;ve now made our data variable private, meaning it can&#x27;t be accessed directly from outside the contract. To fetch its value, we&#x27;ve provided a custom public view function <code>getValue</code> where the user provides the address. On both Ethereum and Obscuro, if you call this function you will retrieve the number stored by that address.</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>In Ethereum, the <code>_storedValues</code> variable can also be accessed directly using the <code>getStorageAt</code> method, but not in Obscuro.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-3-implementing-data-access-control">Step 3: Implementing Data Access Control<a href="#step-3-implementing-data-access-control" class="hash-link" aria-label="Direct link to Step 3: Implementing Data Access Control" title="Direct link to Step 3: Implementing Data Access Control">​</a></h2><p>In this step, our aim is to restrict users to only access their own value. This feature can only be implemented in Obscuro because as mentioned above, <code>_storedValues</code> is not hidden in Ethereum.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="code-2">Code:<a href="#code-2" class="hash-link" aria-label="Direct link to Code:" title="Direct link to Code:">​</a></h3><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">contract StorageExample {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping(address =&gt; uint256) private _storedValues;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function storeValue(uint256 value) public {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _storedValues[tx.origin] = value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getValue(address account) public view returns (uint256) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(tx.origin == account, &quot;Not authorized!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _storedValues[account];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-2">Explanation:<a href="#explanation-2" class="hash-link" aria-label="Direct link to Explanation:" title="Direct link to Explanation:">​</a></h3><p>Since <code>getValue</code> is the only function which exposes the values, we can add a check like this: <code>require(tx.origin == account, &quot;Not authorized!&quot;);</code> If anyone, other than the original account, asks for the value, they will get an error.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>In Ethereum, since all data is accessible anyway, there is no need to sign calls to view functions, so <code>tx.origin</code> can be spoofed.</p></div></div><p>In Obscuro, the platform ensures that calls to view functions are authenticated. Which means that behind the scenes, there is a signature of the <code>tx.origin</code> address.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-4-emitting-events">Step 4: Emitting Events<a href="#step-4-emitting-events" class="hash-link" aria-label="Direct link to Step 4: Emitting Events" title="Direct link to Step 4: Emitting Events">​</a></h2><p>Events in Ethereum are crucial for UIs to react to smart contract state changes. In this step, we&#x27;ll emit an event when a user stores a value. We&#x27;ll also gauge the popularity of our contract by emitting an event when certain milestones are reached.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="code-3">Code:<a href="#code-3" class="hash-link" aria-label="Direct link to Code:" title="Direct link to Code:">​</a></h3><div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">contract StorageExample {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mapping(address =&gt; uint256) private _storedValues;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    uint256 private totalCalls = 0;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    event DataChanged(address indexed account, uint256 newValue);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    event MilestoneReached(uint256 noStoredValues);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function storeValue(uint256 value) public {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        _storedValues[tx.origin] = value;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        emit DataChanged(tx.origin, value);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        totalCalls++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if (totalCalls % 1000 == 0) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            emit MilestoneReached(totalCalls);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    function getValue(address account) public view returns (uint256) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        require(tx.origin == account, &quot;Not authorized!&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return _storedValues[account];</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-3">Explanation:<a href="#explanation-3" class="hash-link" aria-label="Direct link to Explanation:" title="Direct link to Explanation:">​</a></h3><p>On Ethereum, events are visible to anyone. For example, you can subscribe to the <code>DataChanged</code> event and receive notifications in real-time about the data of everyone else. In Obscuro, we wanted to do better than that.</p><ul><li>The <code>DataChanged</code> event is specific to an account, so it should only be received by that user.</li><li><code>MilestoneReached</code>, on the other hand, is intended for everyone, as we want to show how popular our contract is.</li></ul><p>The behavior you desire is to restrict the visibility of <code>DataChanged</code>, but not that of <code>MilestoneReached</code>. <strong>This is exactly how it works by default!</strong></p><p>How it works:</p><ul><li><code>DataChanged</code> - has an address as a topic (an indexed field), which makes it relevant to that address.</li><li><code>MilestoneReached</code> - has no address topic, so it is visible to everyone.</li></ul><p>All you have to do is emit events as usual, and the platform applies common-sense visibility rules.</p><hr><p>Migrate your dApp to Obscuro today and experience enhanced encryption and privacy without compromising on the Ethereum experience.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/introduction/technology"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Technology</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/category/getting-started"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Getting started</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#pre-requisite" class="table-of-contents__link toc-highlight">Pre-requisite</a></li><li><a href="#step-1-declaring-a-public-variable" class="table-of-contents__link toc-highlight">Step 1: Declaring a Public Variable</a><ul><li><a href="#code" class="table-of-contents__link toc-highlight">Code:</a></li><li><a href="#explanation" class="table-of-contents__link toc-highlight">Explanation:</a></li></ul></li><li><a href="#step-2-transitioning-to-a-private-variable-with-a-getter-function" class="table-of-contents__link toc-highlight">Step 2: Transitioning to a Private Variable with a Getter Function</a><ul><li><a href="#code-1" class="table-of-contents__link toc-highlight">Code:</a></li><li><a href="#explanation-1" class="table-of-contents__link toc-highlight">Explanation:</a></li></ul></li><li><a href="#step-3-implementing-data-access-control" class="table-of-contents__link toc-highlight">Step 3: Implementing Data Access Control</a><ul><li><a href="#code-2" class="table-of-contents__link toc-highlight">Code:</a></li><li><a href="#explanation-2" class="table-of-contents__link toc-highlight">Explanation:</a></li></ul></li><li><a href="#step-4-emitting-events" class="table-of-contents__link toc-highlight">Step 4: Emitting Events</a><ul><li><a href="#code-3" class="table-of-contents__link toc-highlight">Code:</a></li><li><a href="#explanation-3" class="table-of-contents__link toc-highlight">Explanation:</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/introduction">Introduction</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://t.co/UJC0FUAY2T" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/obscuronet" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://medium.com/obscuro-labs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog</a></li><li class="footer__item"><a href="https://github.com/obscuronet/obscuro-documentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Obscuro Docs, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.823f81b0.js"></script>
<script src="/assets/js/main.9d2296d1.js"></script>
</body>
</html>