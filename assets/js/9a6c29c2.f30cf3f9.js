"use strict";(self.webpackChunkten_docs=self.webpackChunkten_docs||[]).push([[744],{7206:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"write-ten-dapp/high-level-concepts","title":"High Level Concepts","description":"Below are the core concepts that make TEN unique while maintaining complete compatibility with existing Ethereum tooling and workflows.","source":"@site/docs/4-write-ten-dapp/1-high-level-concepts.md","sourceDirName":"4-write-ten-dapp","slug":"/write-ten-dapp/high-level-concepts","permalink":"/docs/write-ten-dapp/high-level-concepts","draft":false,"unlisted":false,"editUrl":"https://github.com/ten-protocol/ten-documentation/blob/main/docs/4-write-ten-dapp/1-high-level-concepts.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Write a TEN dApp","permalink":"/docs/category/write-a-ten-dapp"},"next":{"title":"Set Up Development Environment","permalink":"/docs/write-ten-dapp/setup-dev-env"}}');var a=t(4848),s=t(8453);const r={sidebar_position:1},o="High Level Concepts",c={},d=[{value:"End-to-End Encryption",id:"end-to-end-encryption",level:2},{value:"Smart Contract Execution with Hidden State",id:"smart-contract-execution-with-hidden-state",level:2},{value:"Data Access Control Primitives",id:"data-access-control-primitives",level:2},{value:"TEN Gateway",id:"ten-gateway",level:2},{value:"Personal Data",id:"personal-data",level:2},{value:"Free Native On-Chain Randomness",id:"free-native-on-chain-randomness",level:2},{value:"Precise Timestamping of Transactions",id:"precise-timestamping-of-transactions",level:2},{value:"Native Commit-Reveal (Required by Many Games)",id:"native-commit-reveal-required-by-many-games",level:2},{value:"Native Session Keys",id:"native-session-keys",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"high-level-concepts",children:"High Level Concepts"})}),"\n",(0,a.jsx)(n.p,{children:"Below are the core concepts that make TEN unique while maintaining complete compatibility with existing Ethereum tooling and workflows."}),"\n",(0,a.jsx)(n.h2,{id:"end-to-end-encryption",children:"End-to-End Encryption"}),"\n",(0,a.jsxs)(n.p,{children:["All contract execution runs inside TEEs; inputs, state, and (optionally) logs can be private. See the ",(0,a.jsx)(n.a,{href:"../1-overview/overview.md",children:"Overview"})," for architecture and threat model."]}),"\n",(0,a.jsx)(n.p,{children:"Clients establish HTTPS connections that terminate inside TEEs via the TEN Gateway, preventing plaintext exposure on intermediaries; smart contracts then execute entirely within the enclave boundary, and contract state plus sensitive metadata are stored encrypted at rest, with read access enforced through Viewing Keys and policy logic."}),"\n",(0,a.jsx)(n.h2,{id:"smart-contract-execution-with-hidden-state",children:"Smart Contract Execution with Hidden State"}),"\n",(0,a.jsxs)(n.p,{children:["TEN disables ",(0,a.jsx)(n.code,{children:"getStorageAt"})," by default and ensures private variables are truly private, only accessible through authorised functions that developers define."]}),"\n",(0,a.jsxs)(n.p,{children:["Revisit ",(0,a.jsx)(n.a,{href:"/docs/smart-contract-features/data-access",children:"Data Acess"})," for more information."]}),"\n",(0,a.jsx)(n.h2,{id:"data-access-control-primitives",children:"Data Access Control Primitives"}),"\n",(0,a.jsxs)(n.p,{children:["TEN introduces ",(0,a.jsx)(n.strong,{children:(0,a.jsx)(n.a,{href:"https://medium.com/obscuro-labs/web3-needs-access-control-9a80719eec4a",children:"Smart Transparency"})})," \u2014 a paradigm where smart contracts enforce rules of data access, not just computation. This provides fine-grained control over who can see what data and when, including programmable disclosure, conditional data access, and event visibility rules."]}),"\n",(0,a.jsx)(n.h2,{id:"ten-gateway",children:"TEN Gateway"}),"\n",(0,a.jsx)(n.p,{children:"Web service running in TEEs that provides the secure edge for dApps and user wallets:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Routes encrypted transactions between clients and validator/sequencer nodes"}),"\n",(0,a.jsx)(n.li,{children:"Manages Viewing Keys on behalf of users for authenticated private view calls"}),"\n",(0,a.jsx)(n.li,{children:"Manages Session Keys to enable no-click UX under developer-defined policies"}),"\n",(0,a.jsx)(n.li,{children:"Caches encrypted metadata and frequently accessed data for performance and availability"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["See ",(0,a.jsx)(n.a,{href:"./9-testnet.md#ten-gateway",children:"TEN Gateway"})," for more information."]}),"\n",(0,a.jsx)(n.h2,{id:"personal-data",children:"Personal Data"}),"\n",(0,a.jsxs)(n.p,{children:["TEN enables true ",(0,a.jsx)(n.strong,{children:"personal data"})," management on-chain by ensuring that sensitive user information remains encrypted and accessible only to authorised parties. This supports applications like private messaging, confidential medical records, and identity verification systems while maintaining compliance with data protection regulations."]}),"\n",(0,a.jsx)(n.h2,{id:"free-native-on-chain-randomness",children:"Free Native On-Chain Randomness"}),"\n",(0,a.jsxs)(n.p,{children:["Secure, immediate, and free randomness via enclave-backed ",(0,a.jsx)(n.code,{children:"block.prevrandao"})," \u2014 no oracles needed."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-solidity",children:"function getRandomNumber() public view returns (uint256) {\n    return uint256(block.prevrandao);  // Secure randomness on TEN\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"precise-timestamping-of-transactions",children:"Precise Timestamping of Transactions"}),"\n",(0,a.jsxs)(n.p,{children:["Every transaction on TEN receives a ",(0,a.jsx)(n.strong,{children:"precise timestamp"})," when it reaches the sequencer, enabling applications that require exact timing information such as real-time games, auction systems, and time-sensitive financial instruments."]}),"\n",(0,a.jsxs)(n.p,{children:["An example of how this works can be found in the ",(0,a.jsx)(n.a,{href:"https://github.com/ten-protocol/ten-aviator/tree/1aa6454da5c52586eaccc9cf3d957b9c5d5f2f6d",children:"TEN Aviator"})," game that utilises real-time game state tracking."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-solidity",children:"function checkGameEnd() external onlyOwner {\n        if (block.timestamp >= gameStartTime + gameDuration) {\n            endGame();\n        }\n    }\n"})}),"\n",(0,a.jsx)(n.h2,{id:"native-commit-reveal-required-by-many-games",children:"Native Commit-Reveal (Required by Many Games)"}),"\n",(0,a.jsxs)(n.p,{children:["TEN eliminates the need for traditional commit-reveal schemes through its ",(0,a.jsx)(n.strong,{children:"native async execution"})," and ",(0,a.jsx)(n.strong,{children:"on-block-end callbacks"}),". This provides the same security benefits without the complexity, latency, and cost of separate commit and reveal transactions, enabling seamless gaming experiences."]}),"\n",(0,a.jsx)(n.p,{children:"TEN provides secure entropy that is generated within the TEE environment using hardware-based random number generation, ensuring that random values cannot be predicted or manipulated by node operators or external parties."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-solidity",children:"function _resetSecretNumber() private {\n   uint256 randomNumber = block.prevrandao;\n   secretNumber = (randomNumber % MAX_GUESS) + 1;\n}\n"})}),"\n",(0,a.jsxs)(n.p,{children:["On Ethereum mainnet, ",(0,a.jsx)(n.code,{children:"block.prevrandao"})," must be used with care. It has some important caveats:"]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"The same random value is provided to every transaction executing in the same block."}),"\n",(0,a.jsx)(n.li,{children:"The value is known at the time the transactions are being ordered into the block, meaning MEV bots can manipulate outcomes."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The same code on TEN does not expose those attack vectors. It should be noted that:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"A fresh, uncorrelated key is generated for each transaction."}),"\n",(0,a.jsx)(n.li,{children:"The value cannot be seen outside of the executing code, secure enclave hardware means even node operators can't access it."}),"\n",(0,a.jsx)(n.li,{children:"Outcomes cannot be known until the block is published (which cannot be undone), removing the threat of MEV exploits."}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["See ",(0,a.jsx)(n.a,{href:"/docs/smart-contract-features/native-entropy",children:"Secure Entropy"})," for more information."]}),"\n",(0,a.jsx)(n.h2,{id:"native-session-keys",children:"Native Session Keys"}),"\n",(0,a.jsxs)(n.p,{children:["TEN provides ",(0,a.jsx)(n.strong,{children:"native session key"})," support managed by TEEs, eliminating the need for proxy contracts while enabling seamless user experiences. Users can play games or interact with dApps without signing every transaction, while developers benefit from simple integration through standard RPC endpoints."]}),"\n",(0,a.jsxs)(n.p,{children:["The management of these session keys is provided by the ",(0,a.jsx)(n.a,{href:"https://github.com/ten-protocol/ten-kit/tree/2c4265bdb2832249af8c9ec21c4b60d02eb8dd3a?tab=readme-ov-file#advanced-example-with-session-keys",children:"ten-kit"})," library, which provides the React components and hooks needed, as well as wallet connection and privacy\u2011preserving transactions."]}),"\n",(0,a.jsxs)(n.p,{children:["See ",(0,a.jsx)(n.a,{href:"/docs/write-ten-dapp/session-keys",children:"Session Keys"})," for more information."]}),"\n",(0,a.jsx)(n.hr,{})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var i=t(6540);const a={},s=i.createContext(a);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);